<script setup lang="ts">
import { ref, watch } from "vue";
import { 
DriftArea, 
GridSnap, 
Drift, 
DriftImage, 
GridDrift } from "@/components/ui/Drift";

const defaultList = ['1','2','3','4','5','6'];
const savedList = localStorage.getItem('myList');
const myList = ref(savedList ? JSON.parse(savedList) : defaultList);

watch(myList, (val) => {
  localStorage.setItem('myList', JSON.stringify(val));
}, { deep: true });

</script>

<template>
  <DriftArea class="w-[400px] h-[300px] border relative">
    <GridSnap v-model:modelValue="myList"  orientation="horizontal">
      <GridDrift v-for="id in myList" :key="id" :data-id="id">
        <div class="w-24 h-24 bg-green-300 flex items-center justify-center m-2">
          Item {{ id }}
        </div>
      </GridDrift>
    </GridSnap>
  </DriftArea>
</template>